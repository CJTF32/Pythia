# Pythiaâ„¢ - Website Performance Oracle

**One Score to Rank Them All**

Pythiaâ„¢ is the ultimate website performance analysis tool that evaluates websites across 10 critical dimensions and delivers a unified P-Score from 0-100.

## ğŸ¨ New Features - November 2025

### Appearance Enhancements

#### Retro Theme
- âœ… **TM Symbol**: Added â„¢ to Pythia everywhere
- âœ… **Retro Loading Spinner**: Custom animated spinner during scans
- âœ… **P-Score Labeling**: All scores labeled as "P-Score: XX"
- âœ… **CRT Effects**: 
  - Scanline overlay animation
  - Flicker effect for authentic CRT feel
  - Curved distortion filter
- âœ… **Typing Animation**: Headers use typewriter effect
- âœ… **Boot Sequence**: Fake terminal initialization on first retro load
- âœ… **Sound Toggle**: Retro beeps/clicks for interactions
- âœ… **Collapsible Details**: Expand/collapse scan details
- âœ… **ASCII Art Dividers**: `â•â•â• âš¡ ORACLE REPORT âš¡ â•â•â•` in reports
- âœ… **Summon Mode**: Secret Konami code (â†‘â†‘â†“â†“â†â†’â†â†’BA) activates purple theme

#### General UI
- âœ… **Pythia Description**: Historical context about the Delphic Oracle
- âœ… **Retro/Boring Toggle**: Switch between retro and modern themes
- âœ… **Visit Counter**: Bottom-right visitor count display

### Functionality

#### Core Features
- âœ… **Auto-HTTPS**: Automatically adds `https://` to URLs
- âœ… **Try Demo URL**: Random top 50 site for testing
- âœ… **Consult Pythia**: AI-powered witty prophecies about websites
- âœ… **Enter Key Support**: Press Enter to trigger analysis
- âœ… **Top 5 & Bottom 5**: Shows best and worst of top 50

#### Badges & Sharing
- âœ… **Downloadable Badges**: Generate custom badges with:
  - P-Score comparison vs top 50 sites
  - "Better than X" messaging
  - Pythiaâ„¢ branding
  - Export as PNG (coming soon)
- âœ… **Open Graph Tags**: Rich social media previews with "Scanned by Pythiaâ„¢ ğŸ”®"
- âœ… **Share Buttons**: Twitter, Facebook, WhatsApp, Email

#### Workers & Automation
- âœ… **Top 50 Cron Worker**: Daily scans with 5-day running averages
- âœ… **Enterprise Daily Worker**: Scans 1000 random enterprise sites, picks winner
- âœ… **Visit Counter Worker**: Tracks total site visitors

### Legal & Compliance

#### Rate Limiting
- âœ… **25 scans/hour per IP**: Prevents abuse
- âœ… **Cloudflare KV storage**: Tracks rate limits with 1-hour TTL

#### Robots.txt Compliance
- âœ… **Respects robots.txt**: Checks for PythiaBot blocking
- âœ… **User-Agent**: Proper identification as `PythiaBot/1.0 (+https://p-score.me)`
- âœ… **Rotating User Agents**: Two variants for stealth

#### Legal Pages
- âœ… **Terms of Service**: Clear disclaimer about automated scores
- âœ… **Privacy Policy**: GDPR-compliant, no PII collection
- âœ… **Dispute Process**: Email contacts for appeals
- âœ… **Accessibility Statement**: WCAG 2.1 Level AA commitment
- âœ… **Copyright Notice**: Â© 2025 Cronix Holdings (Pty) Ltd, South Africa
- âœ… **Footer Credits**: "Made by Cronix" branding

## ğŸ“Š The 10 Metrics

Each metric is weighted equally (10%) in the final P-Score:

1. **âš¡ KARPOV** - Speed & Performance
2. **â™¿ VORTEX** - Accessibility
3. **ğŸ“± PULSE** - Social & SEO Optimization
4. **ğŸ”’ HELIX** - Privacy & Security
5. **ğŸ“± NEXUS** - Mobile Responsiveness
6. **ğŸŒ± ECHO** - Green Hosting & Sustainability
7. **ğŸŒ NOVA** - Scalability & Infrastructure
8. **âœ¨ QUANTUM** - Best Practices & Code Quality
9. **ğŸš€ AETHER** - Modern Tech & Future-Readiness
10. **ğŸ“Š EDEN** - Efficiency & Page Weight

## ğŸš€ Deployment

### Prerequisites
- Cloudflare account
- Wrangler CLI: `npm install -g wrangler`
- KV namespace created

### Setup Steps

#### 1. Create KV Namespace
```bash
wrangler kv:namespace create "PYTHIA_TOP50_KV"
```

Note the ID and update all wrangler.toml files.

#### 2. Deploy Pages Site
```bash
# From project root
wrangler pages deploy . --project-name=pythia
```

#### 3. Deploy Workers

**Top 50 Cron Worker:**
```bash
cd workers
wrangler deploy --config top50-wrangler.toml
# Add cron trigger in Cloudflare dashboard: 0 8 * * * (8:01 AM UTC / 12:01 AM PT)
```

**Enterprise Daily Worker:**
```bash
wrangler deploy --config enterprise-wrangler.toml
# Add cron trigger: 0 8 * * * (same time as Top 50)
```

**Visit Counter Worker:**
```bash
wrangler deploy --config visit-counter-wrangler.toml
# Bind to route: /api/visits
```

#### 4. Configure DNS
Point your domain (e.g., p-score.me) to your Cloudflare Pages deployment.

#### 5. Test

Visit your site and try:
- Scanning a website
- Triggering battles
- Checking top 50 rankings
- Toggling retro mode
- Konami code (â†‘â†‘â†“â†“â†â†’â†â†’BA)

## ğŸ”§ Configuration

### Environment Variables
Set in Cloudflare Pages dashboard:
- `PYTHIA_TOP50_KV`: Your KV namespace binding

### Rate Limits
Adjust in `scan.js`:
```javascript
const RATE_LIMIT = 25; // scans per hour per IP
```

### Cron Schedule
Edit in Cloudflare dashboard Workers section:
- Top 50: `0 8 * * *` (daily at 8:01 AM UTC)
- Enterprise: `0 8 * * *` (daily at 8:01 AM UTC)

## ğŸ“ File Structure

```
pythia/
â”œâ”€â”€ index.html              # Main UI (all features included)
â”œâ”€â”€ functions/
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ scan.js         # Main scanning API (rate limited, legal)
â”‚       â”œâ”€â”€ top50.js        # Top 50 rankings API
â”‚       â”œâ”€â”€ top5.js         # Top 5 subset API
â”‚       â””â”€â”€ enterprise-daily.js  # Enterprise winner API
â”œâ”€â”€ workers/
â”‚   â”œâ”€â”€ top50-scheduler.js  # Cron worker for top 50
â”‚   â”œâ”€â”€ enterprise-daily-scanner.js  # Cron worker for enterprise
â”‚   â””â”€â”€ visit-counter.js    # Visit tracking
â””â”€â”€ *.toml files            # Wrangler configs
```

## ğŸ® Easter Eggs

### Konami Code - Summon Mode
Type: `â†‘ â†‘ â†“ â†“ â† â†’ â† â†’ B A`

Activates a secret purple/magenta color scheme!

### Consult Pythia
Click the "ğŸ”® Consult" button for witty AI-powered prophecies about websites.

## âš–ï¸ Legal Compliance

### API Usage
- Respects Google PageSpeed API ToS
- Rate limited to 25 queries/hour per IP
- Proper User-Agent identification
- Caching layer (Cloudflare KV)

### Web Scraping
- Respects robots.txt directives
- Rotates user agents
- Limits to 50 scans/hour globally
- Batches requests (5 per batch)

### Privacy
- No PII collected
- GDPR compliant (legitimate interest basis)
- Public data only
- Opt-out via robots.txt

### Accessibility
- WCAG 2.1 Level AA target
- Keyboard navigation
- Screen reader support
- Color contrast tested

## ğŸ“§ Contact

- **General**: legal@p-score.me
- **Disputes**: dispute@p-score.me
- **Privacy**: privacy@p-score.me
- **Accessibility**: accessibility@p-score.me

## ğŸ“œ License

Â© 2025 Cronix Holdings (Pty) Ltd, South Africa

Pythiaâ„¢ is a trademark of Cronix Holdings.

---

**Made by Cronix** ğŸ”®
