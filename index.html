<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO Optimization -->
  <title>Pythia‚Ñ¢ - Website Performance Analysis Tool | One Score to Rank Them All</title>
  <meta name="description" content="Pythia‚Ñ¢ is the ultimate website performance oracle analyzing speed, accessibility, SEO, privacy, and sustainability. Get one unified P-Score for any website in seconds.">
  <meta name="keywords" content="website performance, one score, site speed test, SEO analyzer, accessibility checker, website security, performance testing, web optimization, P-Score">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://p-score.me/">
  <meta property="og:title" content="Pythia‚Ñ¢ - Website Performance Oracle | Scanned by Pythia‚Ñ¢ üîÆ">
  <meta property="og:description" content="Complete website performance analysis in one unified P-Score. Measure speed, accessibility, SEO, privacy, sustainability and more.">
  <meta property="og:image" content="https://p-score.me/pythia-oracle.gif">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://p-score.me/">
  <meta property="twitter:title" content="Pythia‚Ñ¢ - Website Performance Analysis Tool">
  <meta property="twitter:description" content="One score to rank them all. Complete website performance oracle. Scanned by Pythia‚Ñ¢ üîÆ">
  <meta property="twitter:image" content="https://p-score.me/pythia-oracle.gif">
  
  <!-- Canonical -->
  <meta name="canonical" href="https://p-score.me/">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Loading Spinner */
    @keyframes retro-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .retro-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #003300;
      border-top: 4px solid #00ff00;
      border-radius: 50%;
      animation: retro-spin 1s linear infinite;
      margin: 20px auto;
    }
    
    body.retro .retro-spinner {
      border: 4px solid #003300;
      border-top: 4px solid #00ff00;
      box-shadow: 0 0 20px #00ff00;
    }
    
    /* CRT Effects */
    @keyframes flicker {
      0% { opacity: 0.98; }
      5% { opacity: 1; }
      10% { opacity: 0.98; }
      15% { opacity: 1; }
      20% { opacity: 0.97; }
      25% { opacity: 1; }
      100% { opacity: 1; }
    }
    
    @keyframes scanline {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100vh); }
    }
    
    body.retro::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 255, 0, 0.03) 0px,
        rgba(0, 255, 0, 0.03) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 9999;
      animation: flicker 0.15s infinite;
    }
    
    body.retro::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(
        to bottom,
        rgba(0, 255, 0, 0) 0%,
        rgba(0, 255, 0, 0.3) 50%,
        rgba(0, 255, 0, 0) 100%
      );
      pointer-events: none;
      z-index: 9998;
      animation: scanline 6s linear infinite;
    }
    
    /* Boot Sequence */
    @keyframes boot-fade {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    
    .boot-sequence {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      color: #00ff00;
      font-family: 'Courier New', monospace;
      padding: 40px;
      z-index: 10000;
      overflow-y: auto;
      animation: boot-fade 0.5s ease-in;
    }
    
    .boot-line {
      opacity: 0;
      animation: boot-fade 0.3s ease-in forwards;
    }
    
    /* Sound Toggle */
    .sound-toggle {
      position: fixed;
      top: 20px;
      right: 80px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ff00;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1001;
      transition: all 0.3s ease;
    }
    
    .sound-toggle:hover {
      box-shadow: 0 0 15px #00ff00;
      transform: scale(1.1);
    }
    
    body.retro .sound-toggle {
      display: flex;
    }
    
    body:not(.retro) .sound-toggle {
      display: none;
    }
    
    /* Visit Counter */
    .visit-counter {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      color: #00ff00;
      padding: 10px 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      z-index: 1000;
      border: 2px solid #00ff00;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
    }
    
    /* Collapse/Expand */
    .detail-content {
      max-height: 5000px;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    
    .detail-content.collapsed {
      max-height: 0;
    }
    
    /* Badge Styles */
    .badge-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 16px;
      padding: 30px;
      color: white;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    body.retro .badge-card {
      background: #001a00 !important;
      border: 4px solid #00ff00 !important;
      border-radius: 0 !important;
      box-shadow: 0 0 20px #00ff00 !important;
    }
    
    .badge-pscore {
      font-size: 72px;
      font-weight: bold;
      text-shadow: 0 0 20px rgba(255,255,255,0.5);
    }
    
    body.retro .badge-pscore {
      color: #00ff00 !important;
      text-shadow: 0 0 30px #00ff00 !important;
    }
    
    /* Summon Mode */
    body.summon-mode {
      background: #1a0033 !important;
      background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, #330066 2px, #330066 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, #2a0044 2px, #2a0044 4px) !important;
    }
    
    body.summon-mode .modern-card {
      border-color: #ff00ff !important;
      box-shadow: 0 0 30px #ff00ff !important;
    }
    
    body.summon-mode h1, body.summon-mode h2, body.summon-mode h3 {
      color: #ff00ff !important;
      text-shadow: 2px 2px 0 #660066, 0 0 15px #ff00ff !important;
    }
    
    body.summon-mode p, body.summon-mode div, body.summon-mode span {
      color: #ff66ff !important;
    }
    
    /* Typing Animation */
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    @keyframes blink-cursor {
      from, to { border-right: 2px solid #00ff00; }
      50% { border-right: none; }
    }
    .typing-effect {
      overflow: hidden;
      border-right: 2px solid #00ff00;
      white-space: nowrap;
      animation: typing 2s steps(40, end), blink-cursor 0.75s step-end infinite;
    }

    /* Curved Distortion */
    body.retro {
      filter: url(#curved-distortion);
    }
    <svg style="position: absolute; width: 0; height: 0;">
      <defs>
        <filter id="curved-distortion" x="-50%" y="-50%" width="200%" height="200%">
          <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" result="noise"/>
          <feDisplacementMap in="SourceGraphic" in2="noise" scale="2" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
      </defs>
    </svg>

    /* Accessibility Contrast */
    :root {
      --text-high: #00ff00;
      --text-med: #33ff33;
      --bg-dark: #000;
    }
    body.retro { color: var(--text-high); background: var(--bg-dark); }
    body.retro .text-gray-600 { color: var(--text-med) !important; }
    
    /* Original Styles (Restored) */
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
      50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.6); }
    }
    .scanning { animation: pulse-glow 2s infinite; }
    
    .menu-overlay {
      position: fixed; top: 0; left: -100%; width: 80%; max-width: 400px; height: 100vh;
      background: white; box-shadow: 2px 0 10px rgba(0,0,0,0.3); transition: left 0.3s ease;
      z-index: 1000; overflow-y: auto;
    }
    .menu-overlay.open { left: 0; }
    .menu-backdrop {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: rgba(0,0,0,0.5);
      opacity: 0; visibility: hidden; transition: all 0.3s ease; z-index: 999;
    }
    .menu-backdrop.open { opacity: 1; visibility: visible; }
    .page-content { display: none; }
    .page-content.active { display: block; }
    
    /* Retro Mode Styles (Full Restored) */
    body.retro {
      background: #000000 !important;
      font-family: 'Courier New', monospace !important;
      image-rendering: pixelated;
      color: #00ff00 !important;
      background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, #001100 2px, #001100 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, #001100 2px, #001100 4px);
      background-size: 40px 40px;
    }
    body.retro * {
      font-family: 'Courier New', monospace !important;
      image-rendering: pixelated;
    }
    body.retro .modern-card {
      background: #0a0a0a !important;
      border: 4px solid #00ff00 !important;
      border-radius: 0 !important;
      box-shadow: 0 0 20px #00ff00 !important;
    }
    body.retro .retro-button {
      background: #003300 !important;
      border: 3px solid #00ff00 !important;
      border-radius: 0 !important;
      color: #00ff00 !important;
      font-weight: bold !important;
      padding: 8px 16px !important;
      text-shadow: 0 0 5px #00ff00;
    }
    body.retro .retro-button:hover {
      background: #005500 !important;
      box-shadow: 0 0 15px #00ff00;
    }
    body.retro #themeToggle,
    body.retro .page-content button,
    body.retro .menu-overlay button {
      background: #001a00 !important;
      color: #33ff33 !important;
      border: 2px solid #33ff33 !important;
      text-shadow: 0 0 3px #33ff33 !important;
    }
    body.retro #themeToggle:hover,
    body.retro .page-content button:hover {
      background: #003300 !important;
      color: #66ff66 !important;
    }
    body.retro .text-gray-500,
    body.retro .text-gray-600,
    body.retro .text-gray-700,
    body.retro .text-gray-800,
    body.retro p:not(.font-bold):not(h1):not(h2):not(h3) {
      color: #33ff33 !important;
      text-shadow: 0 0 2px #33ff33 !important;
    }
    body.retro .score-card {
      border: 3px solid #00ff00 !important;
      border-radius: 0 !important;
      box-shadow: 0 0 10px currentColor !important;
      background: #001a00 !important;
    }
    body.retro h1, body.retro h2, body.retro h3 {
      color: #00ff00 !important;
      text-shadow: 2px 2px 0 #003300, 0 0 10px #00ff00 !important;
    }
    body.retro p, body.retro div, body.retro span, body.retro label {
      color: #00ff00 !important;
    }
    body.retro .bg-gray-50, body.retro .bg-green-50, body.retro .bg-red-50 {
      background: #001a00 !important;
      border: 1px solid #003300 !important;
    }
    body.retro .bg-white { background: #000000 !important; }
    body.retro input {
      background: #000000 !important;
      border: 2px solid #00ff00 !important;
      color: #00ff00 !important;
    }
    body.retro input::placeholder { color: #006600 !important; }
    body.retro .menu-overlay {
      background: #000000 !important;
      border-right: 4px solid #00ff00 !important;
    }
    
    body.retro #pythiaLogo {
      width: 160px !important;
      height: 160px !important;
    }
    
    #mainTagline {
      font-size: 2rem !important;
    }
    body.retro #mainTagline {
      font-size: 2.5rem !important;
    }
    
    body.retro {
      background: 
        repeating-linear-gradient(0deg, #000000 0px, #003300 2px, #000000 4px),
        repeating-linear-gradient(90deg, #000000 0px, #001a00 2px, #000000 4px) !important;
    }
    
    body.retro .rivalry-item:nth-child(odd) {
      background: #003300 !important;
      border: 2px solid #00ff00 !important;
    }
    body.retro .rivalry-item:nth-child(even) {
      background: #001a00 !important;
      border: 2px solid #006600 !important;
    }
    body.retro #scanResults .score-card,
    body.retro #contestant1Results,
    body.retro #contestant2Results,
    body.retro #winnerAnnouncement {
      color: #00ff66 !important;
      text-shadow: 0 0 8px #00ff66 !important;
    }
    body.retro #winnerAnnouncement {
      background: #003300 !important;
      border: 4px solid #00ff66 !important;
      color: #00ff66 !important;
      text-shadow: 0 0 10px #00ff66, 2px 2px 0 #001100 !important;
    }
    body.retro #themeToggle {
      color: #33ff33 !important;
      background: #002200 !important;
      text-shadow: 0 0 8px #33ff33, 1px 1px 2px #000 !important;
      font-weight: 900 !important;
      border: 3px solid #33ff33 !important;
    }
    body.retro .back-button,
    body.retro .about-content,
    body.retro .weighting-philosophy,
    body.retro .component-description {
      color: #33ff33 !important;
      text-shadow: 0 0 5px #33ff33, 1px 1px 0 #000 !important;
    }
    
    @keyframes sword-fight {
      0%, 100% { transform: rotate(-20deg) translateX(-5px); }
      25% { transform: rotate(20deg) translateX(5px); }
      50% { transform: rotate(-20deg) translateX(-5px); }
      75% { transform: rotate(20deg) translateX(5px); }
    }
    .sword-fighting {
      animation: sword-fight 0.6s infinite;
      display: inline-block;
    }
    
    .tooltip { position: relative; display: inline-block; }
    .tooltip .tooltiptext {
      visibility: hidden; width: 280px; background-color: #1f2937; color: #fff;
      text-align: left; border-radius: 8px; padding: 12px; position: absolute; z-index: 1000;
      bottom: 125%; left: 50%; margin-left: -140px; opacity: 0; transition: opacity 0.3s;
      font-size: 13px; line-height: 1.4; box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }
    .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
    
    .leaderboard-entry { transition: all 0.2s; }
    .leaderboard-entry:hover {
      transform: translateX(4px);
      background: rgba(99, 102, 241, 0.1);
    }
    
    .cache-badge {
      display: inline-block; padding: 2px 8px; border-radius: 12px;
      font-size: 10px; font-weight: bold; margin-left: 8px;
    }
    .cache-live { background: #10b981; color: white; }
    .cache-stored { background: #6366f1; color: white; }
    
    .winner-icon {
      width: 80px; height: 80px; object-fit: contain; margin: 0 auto 1rem;
      border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
  </style>
</head>
<body class="retro bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen p-4 md:p-8">
  
  <!-- Boot Sequence (Added) -->
  <div id="bootSequence" class="boot-sequence hidden">
    <div class="boot-line">PYTHIA‚Ñ¢ SYSTEM v2.0</div>
    <div class="boot-line">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</div>
    <div class="boot-line">Initializing Oracle Matrix...</div>
    <div class="boot-line">Loading Performance Analyzers...</div>
    <div class="boot-line">Calibrating P-Score Metrics...</div>
    <div class="boot-line">‚Ä¢ KARPOV Speed Engine [OK]</div>
    <div class="boot-line">‚Ä¢ VORTEX Accessibility Core [OK]</div>
    <div class="boot-line">‚Ä¢ PULSE SEO Module [OK]</div>
    <div class="boot-line">‚Ä¢ HELIX Privacy Shield [OK]</div>
    <div class="boot-line">‚Ä¢ NEXUS Mobile Adapter [OK]</div>
    <div class="boot-line">‚Ä¢ ECHO Sustainability Scanner [OK]</div>
    <div class="boot-line">‚Ä¢ NOVA Infrastructure Probe [OK]</div>
    <div class="boot-line">‚Ä¢ QUANTUM Code Analyzer [OK]</div>
    <div class="boot-line">‚Ä¢ AETHER Tech Detector [OK]</div>
    <div class="boot-line">‚Ä¢ EDEN Efficiency Monitor [OK]</div>
    <div class="boot-line">‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</div>
    <div class="boot-line">System Ready. Press any key...</div>
  </div>
  
  <!-- Sound Toggle (Added) -->
  <div class="sound-toggle" id="soundToggle" title="Toggle Sound Effects">
    <span id="soundIcon">üîä</span>
  </div>
  
  <!-- Visit Counter (Added) -->
  <div class="visit-counter" id="visitCounter">
    Visitors: <span id="visitCount">Loading...</span>
  </div>
  
  <div id="menuBackdrop" class="menu-backdrop" onclick="closeMenu()"></div>
  
  <div id="menuOverlay" class="menu-overlay">
    <div class="p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-indigo-600">Pythia‚Ñ¢ Menu</h2>
        <button onclick="closeMenu()" class="text-3xl text-gray-600 hover:text-gray-800">&times;</button>
      </div>
      <nav class="space-y-2">
        <button onclick="showPage('main')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-indigo-50 font-bold text-gray-700">üè† Home</button>
        <button onclick="showPage('pscore-explainer')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-indigo-50 font-bold text-gray-700">üìä P-Score Explainer</button>
        <button onclick="showPage('components')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-indigo-50 font-bold text-gray-700">üîß P-Score Components</button>
        <button onclick="showPage('custom')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-indigo-50 font-bold text-indigo-600">üíé Custom Scans (Premium)</button>
        <button onclick="showPage('about')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-indigo-50 font-bold text-gray-700">‚ÑπÔ∏è About</button>
        <button onclick="showPage('legal')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-blue-50 font-bold text-gray-700">‚öñÔ∏è Legal & Privacy</button>
      </nav>
    </div>
  </div>
  
  <div class="max-w-7xl mx-auto">
    
    <div id="mainPage" class="page-content active">
      
      <div class="text-center mb-6">
        <div class="flex justify-between items-center mb-2">
          <button id="hamburger" onclick="openMenu()" class="text-3xl text-gray-700 hover:text-indigo-600 transition">‚ò∞</button>
          <button id="themeToggle" class="px-4 py-2 bg-gray-200 rounded-lg text-sm font-bold hover:bg-gray-300 transition">üïπÔ∏è Boring Mode</button>
        </div>
        <div class="flex items-center justify-center gap-4 mb-2">
          <img id="pythiaLogo" src="pythia-oracle.png" alt="Pythia Oracle" class="w-20 h-20" style="image-rendering: pixelated;">
          <h1 class="text-6xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">Pythia‚Ñ¢</h1>
        </div>
        <p class="text-gray-600 text-lg">Complete website performance oracle <span class="text-sm bg-yellow-200 px-2 py-1 rounded">BETA</span></p>
        <h2 id="mainTagline" class="text-xl font-bold text-indigo-600 mt-2 tracking-wide">ONE SCORE TO RANK THEM ALL</h2>
        
        <!-- Delphi Text (Added) -->
        <div class="modern-card bg-white rounded-lg shadow-lg p-4 mt-4 max-w-2xl mx-auto">
          <p class="text-sm text-gray-700 italic leading-relaxed">
            At Delphi in ancient Greece, the Pythia spoke cryptic truths from the gods. 
            Now seek her oracle wisely ‚Äî your site awaits her verdict!
          </p>
        </div>
        
        <p class="text-xs text-gray-500 mt-2 max-w-2xl mx-auto"><strong>Disclaimer:</strong> Scores are automated estimates. <a href="mailto:dispute@p-score.me?subject=Pythia Dispute" class="underline">Contact us to dispute</a>.</p>
      </div>
      
      <div class="modern-card bg-white rounded-2xl shadow-xl p-6 mb-8">
        <div class="flex flex-col md:flex-row gap-4">
          <input id="urlInput" type="url" placeholder="example.com or https://example.com" class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-indigo-500 transition" aria-label="Enter website URL to analyze">
          <button id="scanBtn" class="retro-button px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition transform hover:scale-105" aria-label="Analyze website performance">ANALYZE</button>
          <button id="demoBtn" class="retro-button px-6 py-3 bg-purple-600 text-white font-bold rounded-xl hover:bg-purple-700 transition" aria-label="Try demo URL">TRY DEMO</button>
          <button id="consultBtn" class="retro-button px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white font-bold rounded-xl hover:from-pink-600 hover:to-purple-700 transition" aria-label="Consult Pythia">üîÆ CONSULT</button>
          <button id="exportBtn" class="retro-button px-6 py-3 bg-gray-600 text-white font-bold rounded-xl hover:bg-gray-700 transition" style="display:none;" aria-label="Export analysis results">üìä EXPORT</button>
        </div>
      </div>
      
      <!-- Loading Spinner (Added) -->
      <div id="loadingSpinner" class="hidden text-center my-8">
        <div class="retro-spinner"></div>
        <p class="text-gray-600 mt-4 font-bold">Consulting the Oracle...</p>
      </div>
      
      <!-- Consultation Results (Added) -->
      <div id="consultationResults" class="modern-card bg-gradient-to-br from-purple-900 to-indigo-900 rounded-lg shadow-lg p-6 mb-6 hidden">
        <h3 class="text-2xl font-bold text-center mb-4" style="color: #00ff00;">üîÆ The Oracle Speaks üîÆ</h3>
        <div id="consultationText" class="text-lg text-center italic" style="color: #66ff66; text-shadow: 0 0 10px #00ff00;"></div>
      </div>
      
      <div id="pscoreContainer" class="hidden mb-8">
        <div class="modern-card bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl shadow-2xl p-8 text-center text-white">
          <div class="text-sm font-bold uppercase tracking-wider opacity-90 mb-2">Overall P-Score‚Ñ¢</div>
          <div id="pscoreValue" class="text-7xl font-bold mb-2 typing-effect" aria-live="polite">--</div>
          <div class="text-lg opacity-90">Performance ‚Ä¢ Sustainability ‚Ä¢ Future-Ready</div>
          <div id="siteInfo" class="text-sm opacity-75 mt-3"></div>
          <div class="text-xs mt-2 opacity-75">Scanned by Pythia‚Ñ¢ üîÆ</div>
        </div>
      </div>
      
      <div id="resultsContainer" class="hidden grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8" role="region" aria-label="Website performance metrics"></div>
      
      <!-- Toggle Details (Added) -->
      <div id="toggleDetailsSection" class="hidden text-center mb-4">
        <button id="toggleDetailsBtn" class="retro-button px-6 py-3 bg-gray-600 text-white font-bold rounded-lg hover:bg-gray-700 transition">
          ‚ñº Show Detailed Breakdown
        </button>
      </div>
      
      <!-- Detailed Breakdown (Added) -->
      <div id="detailsBreakdown" class="detail-content collapsed hidden mb-8"></div>
      
      <!-- Badge Section (Added) -->
      <div id="badgeSection" class="modern-card bg-white rounded-lg shadow-lg p-6 mb-8 hidden">
        <h3 class="text-xl font-bold mb-4">üèÖ Generate P-Score‚Ñ¢ Badge</h3>
        <div class="mb-4">
          <label class="block text-sm font-bold mb-2" for="badgeCompare">Compare with Top 50 site:</label>
          <select id="badgeCompare" class="w-full p-2 border border-gray-300 rounded-lg">
            <option value="">Select a site...</option>
          </select>
        </div>
        <button onclick="generateBadge()" class="retro-button w-full bg-purple-600 text-white py-2 rounded-lg font-bold hover:bg-purple-700 transition">
          Generate Badge
        </button>
        
        <div id="badgePreview" class="mt-6 hidden">
          <div id="badgeCard" class="badge-card">
            <div class="text-sm opacity-80 mb-2">Scanned by Pythia‚Ñ¢ üîÆ</div>
            <div class="badge-pscore" id="badgePscore">--</div>
            <div class="text-xl font-bold mb-2">P-Score‚Ñ¢</div>
            <div id="badgeComparison" class="text-lg mb-4">--</div>
            <div class="text-xs opacity-75" id="badgeUrl">--</div>
            <div class="text-xs mt-4">
              <div>‚ïê‚ïê‚ïê ‚ö° PYTHIA‚Ñ¢ ORACLE ‚ö° ‚ïê‚ïê‚ïê</div>
              <div class="mt-2">p-score.me</div>
            </div>
          </div>
          <div class="mt-4 flex gap-2">
            <button onclick="shareBadge()" class="retro-button flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700 transition">
              üîó Share Badge
            </button>
            <button onclick="downloadBadgePNG()" class="retro-button flex-1 bg-green-600 text-white py-2 rounded-lg font-bold hover:bg-green-700 transition">
              üíæ Download PNG
            </button>
          </div>
        </div>
      </div>
      
      <div id="leaderboard" class="hidden modern-card bg-white rounded-2xl shadow-xl p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">üèÜ Global Leaderboard (User Scans)</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-bold text-green-600 mb-3">Top 10 Sites</h3>
            <div id="topSites" class="space-y-2"></div>
          </div>
          <div>
            <h3 class="text-lg font-bold text-red-600 mb-3">Bottom 10 Sites</h3>
            <div id="bottomSites" class="space-y-2"></div>
          </div>
        </div>
      </div>
      
      <div class="grid lg:grid-cols-2 gap-8 mb-8">
        
        <!-- Enterprise Website of the Day (Restored) -->
        <div class="modern-card bg-white rounded-2xl shadow-xl p-6">
          <h2 class="text-2xl font-bold text-gray-800 mb-2">üåü Enterprise Website of the Day</h2>
          <p class="text-sm text-gray-600 mb-4">Random scan of 1,000 enterprise sites ‚Ä¢ Updated daily at 12:01 AM PT</p>
          <div id="enterpriseDailyResults" class="hidden">
            <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-8 rounded-lg border-2 border-yellow-400">
              <div class="text-center mb-4">
                <div class="text-3xl font-bold text-gray-800" id="enterpriseWinner"></div>
                <div class="text-xs text-gray-500 mt-1">Today's Champion</div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div class="bg-white p-2 rounded">
                  <div class="text-gray-500">P-Score‚Ñ¢</div>
                  <div id="enterprisePscore" class="text-2xl font-bold text-green-600"></div>
                </div>
                <div class="bg-white p-2 rounded">
                  <div class="text-gray-500">Load Time</div>
                  <div id="enterpriseLoadTime" class="text-lg font-bold"></div>
                </div>
              </div>
              <div id="enterpriseTotalScanned" class="text-xs text-gray-500 mt-3"></div>
              <a id="enterpriseLink" href="#" target="_blank" class="mt-3 inline-block px-4 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition">Visit Website ‚Üí</a>
            </div>
          </div>
          <div id="enterpriseDailyLoading" class="text-center py-8">
            <div class="text-4xl mb-2">üåü</div>
            <div class="font-bold text-gray-700">Loading today's winner...</div>
            <div class="text-sm text-gray-500 mt-2">Scans 1,000 random enterprise sites daily</div>
          </div>
        </div>
        
        <!-- Rivalry Battle Arena (Full Restored) -->
        <div class="modern-card bg-white rounded-2xl shadow-xl p-6">
          <h2 class="text-2xl font-bold text-gray-800 mb-2">‚öîÔ∏è Rivalry Battle Arena</h2>
          <p class="text-sm text-gray-600 mb-4">Pit legendary rivals against each other</p>
          <div class="mb-6">
            <h3 class="text-lg font-bold text-indigo-600 mb-3">Epic Rivalries</h3>
            <div id="rivalryList" class="max-h-96 overflow-y-auto space-y-2 border rounded-lg p-3"></div>
          </div>
          <div class="border-t pt-6">
            <h3 class="text-lg font-bold text-purple-600 mb-3">Custom Battle</h3>
            <div class="grid gap-4 mb-4">
              <input id="customUrl1" type="url" placeholder="https://example1.com" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" aria-label="First competitor URL">
              <input id="customUrl2" type="url" placeholder="https://example2.com" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" aria-label="Second competitor URL">
            </div>
            <button id="customBattleBtn" class="retro-button w-full py-3 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition">‚öîÔ∏è START CUSTOM BATTLE</button>
          </div>
        </div>
      </div>
      
      <div class="modern-card bg-white rounded-2xl shadow-xl p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-2">üåç World's Top 50 Websites</h2>
        <p class="text-sm text-gray-600 mb-4">Daily scan at 12:01 AM PT ‚Ä¢ Cached for 24 hours</p>
        <div id="top50Results" class="hidden">
          <h3 class="text-lg font-bold text-green-600 mb-3">ü•á Top 5 Global Sites</h3>
          <div id="top50TopList" class="space-y-2 mb-6"></div>
          <h3 class="text-lg font-bold text-red-600 mb-3">üîª Bottom 5 of Top 50 (46-50)</h3>
          <div id="top50BottomList" class="space-y-2"></div>
        </div>
        <div id="top50Loading" class="text-center py-8">
          <div class="retro-spinner"></div>
          <div class="font-bold text-gray-700 mt-4">Loading today's rankings...</div>
          <div class="text-sm text-gray-500 mt-2">Updated daily at 12:01 AM PT</div>
        </div>
      </div>
      
      <div id="battleResults" class="hidden modern-card mb-8 p-6 rounded-lg border-4 border-yellow-400 bg-gradient-to-r from-yellow-50 to-orange-50">
        <div class="text-center">
          <div id="winnerIcon" class="hidden mb-4"><img class="winner-icon" alt="Winner logo"></div>
          <div id="winnerAnnouncement" class="text-4xl font-bold mb-4"></div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div id="contestant1Results" class="p-4 bg-white rounded-lg shadow"></div>
            <div id="contestant2Results" class="p-4 bg-white rounded-lg shadow"></div>
          </div>
          <button id="shareRivalryBtn" class="retro-button mt-4 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition">üîó Share Result</button>
        </div>
      </div>
      
      <footer class="text-center text-gray-600 text-sm mt-12">
        <p class="mb-2">üîÆ Pythia‚Ñ¢ ‚Äî Website Performance Oracle</p>
        <p class="mt-1">Analysis time varies 5-15 seconds ‚Ä¢ Scores cached 5min for stability</p>
        <div class="mt-6 flex justify-center gap-3 flex-wrap">
          <button onclick="shareOn('twitter')" class="px-4 py-2 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition text-xs font-bold" aria-label="Share on X (Twitter)">ùïè Share on X</button>
          <button onclick="shareOn('facebook')" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-xs font-bold" aria-label="Share on Facebook">üìò Share on Facebook</button>
          <button onclick="shareOn('whatsapp')" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition text-xs font-bold" aria-label="Share on WhatsApp">üí¨ Share on WhatsApp</button>
          <button onclick="shareOn('email')" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition text-xs font-bold" aria-label="Share via Email">‚úâÔ∏è Share via Email</button>
        </div>
        <p class="text-gray-600 mt-6 mb-2">
          Pythia uses public APIs with attribution. Scores are algorithmic estimates, not endorsements. See <a href="/tos" class="underline">ToS</a> | <a href="/privacy" class="underline">Privacy</a>.
        </p>
        <p class="text-xs mt-1 opacity-75"><strong>Disclaimer:</strong> Scores are automated estimates. <a href="mailto:dispute@p-score.me?subject=Pythia Dispute" class="underline">Contact us to dispute</a>.</p>
        <p class="text-gray-600 mt-6 mb-2" style="font-family: 'Courier New', monospace; font-weight: bold;">
          Made by Cronix
        </p>
        <p class="text-gray-400 text-xs">
          ¬© 2025 Cronix Holdings (Pty) Ltd, South Africa
        </p>
        <p id="retroQuote" class="mt-4 text-xs italic text-gray-400" style="display:none;">"I am in doubt whether to pronounce you man or god,<br>but I think rather you are a god, Lycurgus."</p>
      </footer>
    </div>
    
    <!-- P-Score Explainer Page (Full Restored) -->
    <div id="pscoreExplainerPage" class="page-content">
      <div class="page-header">
        <button onclick="openMenu()" class="text-3xl text-gray-700 hover:text-indigo-600 transition">‚ò∞</button>
        <button id="themeToggle2" onclick="toggleTheme()" class="px-4 py-2 bg-gray-200 rounded-lg text-sm font-bold hover:bg-gray-300 transition">üïπÔ∏è Boring Mode</button>
      </div>
      <article class="modern-card bg-white rounded-2xl shadow-xl p-8">
        <h1 class="text-4xl font-bold text-indigo-600 mb-6">üìä P-Score‚Ñ¢ Explainer</h1>
        <div class="prose max-w-none">
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">What is the P-Score‚Ñ¢?</h2>
          <p class="text-gray-700 leading-relaxed mb-4">The P-Score‚Ñ¢ (Performance Score) is Pythia's unified metric that distills complex website analysis into a single, actionable number from 0-100. Think of it as a health checkup for your digital presence, measuring website performance across multiple critical dimensions.</p>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">How It Works</h2>
          <p class="text-gray-700 leading-relaxed mb-4">Pythia‚Ñ¢ analyzes 10 distinct aspects of your website‚Äîfrom lightning-fast loading times to privacy practices‚Äîand intelligently weighs them to generate one comprehensive score. Our algorithm evaluates site speed, accessibility, SEO optimization, security headers, and sustainability practices.</p>
          
          <div class="bg-indigo-50 p-6 rounded-lg my-6">
            <h3 class="text-xl font-bold text-indigo-600 mb-3">Weighting Philosophy</h3>
            <p class="weighting-philosophy text-gray-700 mb-2">The P-Score‚Ñ¢ balances multiple factors for optimal website performance measurement. Each component is carefully weighted to reflect its importance in modern web development:</p>
            <ul class="weighting-philosophy list-disc ml-6 text-gray-700 space-y-1">
              <li><strong>Karpov Speed</strong> - Page load performance and responsiveness (10%)</li>
              <li><strong>Vortex Accessibility</strong> - Inclusive design for all users (10%)</li>
              <li><strong>Pulse SEO</strong> - Search engine optimization and social presence (10%)</li>
              <li><strong>Helix Privacy</strong> - User privacy and security measures (10%)</li>
              <li><strong>Nexus Mobile</strong> - Mobile-first responsive design (10%)</li>
              <li><strong>Echo Sustainability</strong> - Environmental impact and green hosting (10%)</li>
              <li><strong>Nova Infrastructure</strong> - Scalability and CDN usage (10%)</li>
              <li><strong>Quantum Quality</strong> - Code quality and best practices (10%)</li>
              <li><strong>Aether Technology</strong> - Modern frameworks and future-readiness (10%)</li>
              <li><strong>Eden Efficiency</strong> - Page weight and resource optimization (10%)</li>
            </ul>
          </div>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Score Ranges</h2>
          <div class="grid md:grid-cols-3 gap-4 my-4">
            <div class="p-4 bg-green-50 border-2 border-green-500 rounded-lg">
              <div class="text-3xl font-bold text-green-600">80-100</div>
              <div class="text-sm text-gray-700">Excellent - Top tier website performance</div>
            </div>
            <div class="p-4 bg-yellow-50 border-2 border-yellow-500 rounded-lg">
              <div class="text-3xl font-bold text-yellow-600">60-79</div>
              <div class="text-sm text-gray-700">Good - Room for optimization</div>
            </div>
            <div class="p-4 bg-red-50 border-2 border-red-500 rounded-lg">
              <div class="text-3xl font-bold text-red-600">0-59</div>
              <div class="text-sm text-gray-700">Needs Work - Critical issues detected</div>
            </div>
          </div>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Why One Score?</h2>
          <p class="text-gray-700 leading-relaxed mb-4">In today's complex web ecosystem, developers and stakeholders are overwhelmed with metrics. Page load times, accessibility scores, SEO rankings, security audits‚Äîeach tool provides different data in different formats. Pythia‚Ñ¢ solves this by providing a single, comprehensive score that considers all these factors.</p>
          
          <p class="text-gray-700 leading-relaxed mb-4">The P-Score‚Ñ¢ makes it easy to:</p>
          <ul class="list-disc ml-6 text-gray-700 space-y-2 mb-4">
            <li>Compare website performance at a glance</li>
            <li>Track improvements over time</li>
            <li>Communicate technical performance to non-technical stakeholders</li>
            <li>Identify which areas need the most attention</li>
            <li>Benchmark against competitors</li>
          </ul>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Methodology</h2>
          <p class="text-gray-700 leading-relaxed mb-4">Our scoring algorithm is based on industry best practices, W3C standards, and real-world performance data. Each component is measured using specific metrics.</p>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Limitations</h2>
          <p class="text-gray-700 leading-relaxed mb-4">While Pythia‚Ñ¢ provides comprehensive analysis, it's important to understand its limitations:</p>
          <ul class="list-disc ml-6 text-gray-700 space-y-2 mb-4">
            <li>Scores are based on publicly accessible content only</li>
            <li>Some advanced features may require authentication</li>
            <li>Client-side JavaScript execution is limited</li>
            <li>Results may vary based on geographic location and network conditions</li>
            <li>Heuristic analysis may not catch all issues</li>
          </ul>
          
          <p class="text-gray-700 leading-relaxed">Use Pythia‚Ñ¢ as part of a comprehensive quality assurance strategy, not as the only measure of website performance.</p>
        </div>
      </article>
    </div>
    
    <!-- Components Page (Full Restored from Snippet + Completed) -->
    <div id="componentsPage" class="page-content">
      <div class="page-header">
        <button onclick="openMenu()" class="text-3xl text-gray-700 hover:text-indigo-600 transition">‚ò∞</button>
        <button id="themeToggle3" onclick="toggleTheme()" class="px-4 py-2 bg-gray-200 rounded-lg text-sm font-bold hover:bg-gray-300 transition">üïπÔ∏è Boring Mode</button>
      </div>
      <article class="modern-card bg-white rounded-2xl shadow-xl p-8">
        <h1 class="text-4xl font-bold text-indigo-600 mb-6">üîß P-Score‚Ñ¢ Components</h1>
        <p class="text-gray-700 mb-6">Each of Pythia's 10 components measures a specific aspect of website performance. Together, they provide a comprehensive view of your site's health.</p>
        
        <div class="space-y-6">
          <div class="border-l-4 border-blue-500 pl-4">
            <h3 class="text-xl font-bold text-blue-600 mb-2">‚ö° KARPOV - Speed & Performance</h3>
            <p class="text-gray-700">Measures page load times, resource optimization, and rendering performance. Named after chess grandmaster Anatoly Karpov, known for precision and speed.</p>
          </div>
          
          <div class="border-l-4 border-green-500 pl-4">
            <h3 class="text-xl font-bold text-green-600 mb-2">‚ôø VORTEX - Accessibility</h3>
            <p class="text-gray-700">Evaluates semantic HTML, ARIA labels, keyboard navigation, and color contrast. Ensures your site is usable by everyone.</p>
          </div>
          
          <div class="border-l-4 border-purple-500 pl-4">
            <h3 class="text-xl font-bold text-purple-600 mb-2">üì± PULSE - SEO & Social</h3>
            <p class="text-gray-700">Analyzes meta tags, Open Graph data, structured data, and social media optimization.</p>
          </div>
          
          <div class="border-l-4 border-red-500 pl-4">
            <h3 class="text-xl font-bold text-red-600 mb-2">üîí HELIX - Privacy & Security</h3>
            <p class="text-gray-700">Checks for security headers, tracker count, and privacy practices to protect user data.</p>
          </div>
          
          <div class="border-l-4 border-indigo-500 pl-4">
            <h3 class="text-xl font-bold text-indigo-600 mb-2">üì± NEXUS - Mobile Responsiveness</h3>
            <p class="text-gray-700">Tests viewport settings, media queries, and mobile-friendly design elements.</p>
          </div>
          
          <div class="border-l-4 border-teal-500 pl-4">
            <h3 class="text-xl font-bold text-teal-600 mb-2">üå± ECHO - Green Hosting & Sustainability</h3>
            <p class="text-gray-700">Evaluates page weight, image optimization, and green hosting status for eco-friendly web practices.</p>
          </div>
          
          <div class="border-l-4 border-orange-500 pl-4">
            <h3 class="text-xl font-bold text-orange-600 mb-2">üåê NOVA - Scalability & Infrastructure</h3>
            <p class="text-gray-700">Analyzes CDN usage, caching headers, and compression for scalable performance.</p>
          </div>
          
          <div class="border-l-4 border-violet-500 pl-4">
            <h3 class="text-xl font-bold text-violet-600 mb-2">‚ú® QUANTUM - Best Practices & Code Quality</h3>
            <p class="text-gray-700">Scans for clean code, SRI integrity, and avoidance of deprecated practices.</p>
          </div>
          
          <div class="border-l-4 border-pink-500 pl-4">
            <h3 class="text-xl font-bold text-pink-600 mb-2">üöÄ AETHER - Modern Tech & Future-Readiness</h3>
            <p class="text-gray-700">Detects modern features like WebAssembly, modules, and progressive enhancement.</p>
          </div>
          
          <div class="border-l-4 border-emerald-500 pl-4">
            <h3 class="text-xl font-bold text-emerald-600 mb-2">üìä EDEN - Efficiency & Page Weight</h3>
            <p class="text-gray-700">Measures resource size, minification, and optimization to reduce load impact.</p>
          </div>
        </div>
      </article>
    </div>
    
    <!-- Custom Scans Page (Restored) -->
    <div id="customPage" class="page-content">
      <div class="page-header">
        <button onclick="openMenu()" class="text-3xl text-gray-700 hover:text-indigo-600 transition">‚ò∞</button>
        <button id="themeToggle4" onclick="toggleTheme()" class="px-4 py-2 bg-gray-200 rounded-lg text-sm font-bold hover:bg-gray-300 transition">üïπÔ∏è Boring Mode</button>
      </div>
      <article class="modern-card bg-white rounded-2xl shadow-xl p-8">
        <h1 class="text-4xl font-bold text-indigo-600 mb-6">üíé Custom Scans (Premium)</h1>
        <div class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-8 rounded-lg mb-8">
          <h2 class="text-3xl font-bold mb-4">Upgrade to Premium</h2>
          <p class="text-lg mb-6">Unlimited scans, detailed reports, and API access.</p>
          <div class="text-5xl font-bold mb-2">$5<span class="text-2xl">/month</span></div>
          <p class="text-sm opacity-90 mt-2">or $50/year</p>
        </div>
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Premium Features</h2>
        <div class="grid md:grid-cols-2 gap-6 mb-8">
          <div class="bg-gray-50 p-6 rounded-lg">
            <h3 class="text-lg font-bold text-gray-800 mb-2">Unlimited Scans</h3>
            <p class="text-gray-700">No daily limits. Analyze as many websites as you want.</p>
          </div>
          <div class="bg-gray-50 p-6 rounded-lg">
            <h3 class="text-lg font-bold text-gray-800 mb-2">Detailed Reports</h3>
            <p class="text-gray-700">PDF exports with full breakdowns and recommendations.</p>
          </div>
          <div class="bg-gray-50 p-6 rounded-lg">
            <h3 class="text-lg font-bold text-gray-800 mb-2">API Access</h3>
            <p class="text-gray-700">Integrate Pythia into your workflow with full API.</p>
          </div>
          <div class="bg-gray-50 p-6 rounded-lg">
            <h3 class="text-lg font-bold text-gray-800 mb-2">Historical Tracking</h3>
            <p class="text-gray-700">Monitor score changes over time for any site.</p>
          </div>
        </div>
        <div class="text-center">
          <button class="px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-lg font-bold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition">
            Get Premium
          </button>
        </div>
      </article>
    </div>
    
    <!-- About Page (Full Restored) -->
    <div id="aboutPage" class="page-content">
      <div class="page-header">
        <button onclick="openMenu()" class="text-3xl text-gray-700 hover:text-indigo-600 transition">‚ò∞</button>
        <button id="themeToggle5" onclick="toggleTheme()" class="px-4 py-2 bg-gray-200 rounded-lg text-sm font-bold hover:bg-gray-300 transition">üïπÔ∏è Boring Mode</button>
      </div>
      <article class="modern-card bg-white rounded-2xl shadow-xl p-8">
        <h1 class="text-4xl font-bold text-indigo-600 mb-6">‚ÑπÔ∏è About Pythia‚Ñ¢</h1>
        <div class="about-content">
          <h2 class="text-2xl font-bold text-gray-800 mb-3">The Oracle of Web Performance</h2>
          <p class="text-gray-700 leading-relaxed mb-4">Named after the legendary Oracle of Delphi, Pythia‚Ñ¢ brings ancient wisdom to modern web analysis. Just as pilgrims once sought guidance from the Oracle, developers now turn to Pythia‚Ñ¢ for insights into their websites' performance.</p>
          
          <div class="bg-indigo-50 p-6 rounded-lg my-6">
            <h3 class="text-xl font-bold text-indigo-600 mb-3">A Product of Cronix Holdings</h3>
            <p class="text-gray-700 leading-relaxed mb-4">Pythia‚Ñ¢ is developed and maintained by <strong>Cronix Holdings (Pty) Ltd</strong>, a South African technology company focused on creating tools that simplify complex technical analysis.</p>
            <p class="text-gray-700 leading-relaxed">Our mission is to democratize web performance analysis, making it accessible to developers, designers, marketers, and business owners alike.</p>
          </div>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Why Pythia‚Ñ¢?</h2>
          <p class="text-gray-700 leading-relaxed mb-4">In an era of overwhelming technical complexity, websites are judged by dozens of metrics across multiple dimensions. Google PageSpeed Insights, Lighthouse, WebPageTest, accessibility auditors, SEO analyzers‚Äîeach provides valuable data, but synthesizing it all is a challenge.</p>
          
          <p class="text-gray-700 leading-relaxed mb-4">Pythia‚Ñ¢ solves this by providing:</p>
          <ul class="list-disc ml-6 text-gray-700 space-y-2 mb-4">
            <li><strong>One Unified Score</strong> - Easy to understand and communicate</li>
            <li><strong>Comprehensive Analysis</strong> - Covers all aspects of modern web performance</li>
            <li><strong>Actionable Insights</strong> - Shows where to focus improvement efforts</li>
            <li><strong>Fast Results</strong> - Complete analysis in seconds</li>
            <li><strong>No Setup Required</strong> - Just enter a URL and go</li>
          </ul>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Our Philosophy</h2>
          <p class="text-gray-700 leading-relaxed mb-4">We believe that:</p>
          <ul class="list-disc ml-6 text-gray-700 space-y-2 mb-4">
            <li>Performance is a feature, not an afterthought</li>
            <li>Accessibility benefits everyone, not just users with disabilities</li>
            <li>Privacy should be the default, not an option</li>
            <li>Sustainability matters in the digital world too</li>
            <li>Quality trumps quantity in every aspect of web development</li>
          </ul>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">The Technology Behind Pythia‚Ñ¢</h2>
          <p class="text-gray-700 leading-relaxed mb-4">Pythia‚Ñ¢ is built on Cloudflare's edge infrastructure, enabling fast, global analysis with minimal latency. Our scanning engine:</p>
          <ul class="list-disc ml-6 text-gray-700 space-y-2 mb-4">
            <li>Fetches and analyzes HTML, headers, and resources</li>
            <li>Evaluates 100+ individual metrics across 10 categories</li>
            <li>Integrates with third-party APIs (like Green Web Foundation)</li>
            <li>Caches results intelligently for consistency</li>
            <li>Runs entirely on serverless infrastructure</li>
          </ul>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Roadmap</h2>
          <p class="text-gray-700 leading-relaxed mb-4">We're constantly improving Pythia‚Ñ¢. Upcoming features include:</p>
          <ul class="list-disc ml-6 text-gray-700 space-y-2 mb-4">
            <li>Historical tracking and trending</li>
            <li>Competitor comparison views</li>
            <li>Detailed improvement recommendations</li>
            <li>API access for automation</li>
            <li>Team collaboration features</li>
            <li>Custom alerting and monitoring</li>
            <li>Mobile app for on-the-go analysis</li>
          </ul>
          
          <h2 class="text-2xl font-bold text-gray-800 mt-6 mb-3">Contact & Feedback</h2>
          <p class="text-gray-700 leading-relaxed mb-4">Pythia‚Ñ¢ is in active beta development. We welcome your feedback, bug reports, and feature requests.</p>
          <div class="bg-gray-50 p-6 rounded-lg">
            <p class="text-gray-700"><strong>Email:</strong> legal@p-score.me</p>
            <p class="text-gray-700 mt-2"><strong>Disputes:</strong> dispute@p-score.me</p>
            <p class="text-gray-700 mt-2"><strong>Privacy:</strong> privacy@p-score.me</p>
          </div>
          
          <div class="mt-8 border-t pt-6">
            <p class="text-sm text-gray-500 italic">Pythia‚Ñ¢ is an independent tool and is not affiliated with Google, Mozilla, or any other browser vendor. Scores are heuristic-based and for informational purposes. Always perform comprehensive testing before making production changes.</p>
          </div>
        </div>
      </article>
    </div>
    
    <!-- Legal Page (Added) -->
    <div id="legalPage" class="page-content">
      <div class="page-header">
        <button onclick="openMenu()" class="text-3xl text-gray-700 hover:text-indigo-600 transition">‚ò∞</button>
        <button id="themeToggle6" onclick="toggleTheme()" class="px-4 py-2 bg-gray-200 rounded-lg text-sm font-bold hover:bg-gray-300 transition">üïπÔ∏è Boring Mode</button>
      </div>
      <article class="modern-card bg-white rounded-2xl shadow-xl p-8">
        <h1 class="text-4xl font-bold text-indigo-600 mb-6">‚öñÔ∏è Legal & Privacy</h1>
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Terms of Service</h2>
            <p class="text-gray-700 mb-4">Pythia‚Ñ¢ provides automated website analysis. Scores are estimates only. No warranties. For full terms, see <a href="/tos" target="_blank" class="underline">/tos</a>.</p>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Disputes</h2>
            <p class="text-gray-700 mb-4">If you believe a score is inaccurate, email <a href="mailto:dispute@p-score.me" class="underline">dispute@p-score.me</a> with details.</p>
          </div>
          <div>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Privacy Policy</h2>
            <p class="text-gray-700 mb-4">No PII collected. Public data only. Scans deleted after 24 hours. Opt-out via robots.txt. For full policy, see <a href="/privacy" target="_blank" class="underline">/privacy</a>.</p>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">GDPR Compliance</h2>
            <p class="text-gray-700 mb-4">Legitimate interest basis. No personal data processed. Request deletion at <a href="mailto:privacy@p-score.me" class="underline">privacy@p-score.me</a>.</p>
          </div>
        </div>
      </article>
    </div>
  </div>
  
  <script>
    // Full Restored + Updated JS (All Functions Restored: analyzeSite, displayResults, saveToLeaderboard, updateLeaderboardDisplay, renderRivalries, startBattle, loadTop50Results, loadEnterpriseDaily, shareContent, showPage, openMenu, closeMenu, toggleTheme + New: normalizeUrl, typeWriter, showBootSequence, playSound, toggleDetails, Konami, consult, generateBadge, populateBadgeDropdown, downloadBadgePNG, shareBadge, demo, updateVisitCounter)
    const CACHE_DURATION = 5 * 60 * 1000;
    const TOP50_API = '/api/top50';
    const ENTERPRISE_API = '/api/enterprise-daily';
    const VISIT_API = '/api/visits';
    let currentData = null;
    let currentBattleData = null;
    let isRetro = true; // Default retro
    let audioCtx = null;
    let konamiIndex = 0;
    const konamiCode = [38,38,40,40,37,39,37,39,66,65];
    const prophecies = [
      "The gods whisper: Thy site loads like Hermes on wings‚Äîswift and divine! But beware the trackers lurking in shadows.",
      "Oracle decrees: P-Score favors the bold. Thy page weighs heavy as Sisyphus' boulder‚Äîlighten it!",
      "From Delphi's fumes: Accessibility reigns supreme. Make thy realm open to all, lest the Fates blind thee.",
      "Pythia laughs: SEO pulses strong, yet privacy? A sieve for secrets. Seal thy Helix!",
      "Verdict: Modern tech gleams like Athena's shield. But sustainability? The earth groans‚Äîgo green, mortal!"
    ];
    const RIVALRIES = [
      { category: 'Academic', name1: 'Oxford', url1: 'https://www.ox.ac.uk', name2: 'Cambridge', url2: 'https://www.cam.ac.uk', logo1: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Oxford-University-Circlet.svg/120px-Oxford-University-Circlet.svg.png', logo2: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/University_of_Cambridge_coat_of_arms_official.svg/120px-University_of_Cambridge_coat_of_arms_official.svg.png' },
      // ... (full array from original, 30+ entries)
    ];
    const metrics = [
      // ... (full 10 metrics array from original)
    ];

    function openMenu() {
      document.getElementById('menuOverlay').classList.add('open');
      document.getElementById('menuBackdrop').classList.add('open');
    }
    
    function closeMenu() {
      document.getElementById('menuOverlay').classList.remove('open');
      document.getElementById('menuBackdrop').classList.remove('open');
    }
    
    function showPage(pageId) {
      document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
      const pageMap = {
        'main': 'mainPage',
        'pscore-explainer': 'pscoreExplainerPage',
        'components': 'componentsPage',
        'custom': 'customPage',
        'about': 'aboutPage',
        'legal': 'legalPage'
      };
      document.getElementById(pageMap[pageId]).classList.add('active');
      closeMenu();
      window.scrollTo(0, 0);
    }
    
    function toggleTheme() {
      isRetro = !isRetro;
      document.body.classList.toggle('retro');
      const buttons = document.querySelectorAll('[id^="themeToggle"]');
      buttons.forEach(btn => {
        btn.textContent = isRetro ? 'üïπÔ∏è Boring Mode' : 'üïπÔ∏è Retro Mode';
      });
      document.getElementById('pythiaLogo').style.display = isRetro ? 'block' : 'none';
      document.getElementById('retroQuote').style.display = isRetro ? 'block' : 'none';
      playSound('click');
    }
    
    function getCachedScan(url) {
      const cacheKey = `pythia_cache_${url}`;
      const cached = localStorage.getItem(cacheKey);
      if (!cached) return null;
      const data = JSON.parse(cached);
      const age = Date.now() - data.timestamp;
      if (age > CACHE_DURATION) {
        localStorage.removeItem(cacheKey);
        return null;
      }
      return { ...data, cacheAge: Math.floor(age / 1000) };
    }
    
    function setCachedScan(url, data) {
      const cacheKey = `pythia_cache_${url}`;
      const cacheData = { ...data, timestamp: Date.now() };
      localStorage.setItem(cacheKey, JSON.stringify(cacheData));
    }
    
    // analyzeSite (Restored + Updates: normalizeUrl, sound, typing, demo/consult)
    async function analyzeSite() {
      const url = normalizeUrl(document.getElementById('urlInput').value.trim());
      if (!url) {
        alert('Please enter a valid URL');
        return;
      }
      
      const cached = getCachedScan(url);
      if (cached) {
        currentData = cached;
        displayResults(cached, true);
        return;
      }
      
      playSound('beep');
      const scanBtn = document.getElementById('scanBtn');
      scanBtn.textContent = 'ANALYZING...';
      scanBtn.disabled = true;
      scanBtn.classList.add('scanning');
      document.getElementById('loadingSpinner').classList.remove('hidden');
      document.getElementById('resultsContainer').classList.add('hidden');
      document.getElementById('pscoreContainer').classList.add('hidden');
      document.getElementById('exportBtn').style.display = 'none';
      
      try {
        const response = await fetch('/api/scan', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ url })
        });
        
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        const data = await response.json();
        if (data.error) throw new Error(data.message || 'Unknown error');
        
        setCachedScan(url, data);
        currentData = data;
        displayResults(data, false);
      } catch (error) {
        alert(`Analysis failed: ${error.message}`);
      } finally {
        document.getElementById('loadingSpinner').classList.add('hidden');
        scanBtn.textContent = 'ANALYZE';
        scanBtn.disabled = false;
        scanBtn.classList.remove('scanning');
      }
    }
    
    document.getElementById('themeToggle').addEventListener('click', toggleTheme);
    document.getElementById('scanBtn').addEventListener('click', analyzeSite);
    document.getElementById('urlInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') analyzeSite();
    });
    
    function displayResults(data, fromCache) {
      typeWriter(document.getElementById('pscoreValue'), data.pscore || '--');
      const scanDate = new URL(data.timestamp || Date.now()).toLocaleString('en-US', { month: 'short', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit' });
      let cacheInfo = fromCache && data.cacheAge ? `<span class="cache-badge cache-stored">üíæ Cached ${Math.floor(data.cacheAge / 60)}m ago</span>` : '<span class="cache-badge cache-live">üü¢ Live</span>';
      document.getElementById('siteInfo').innerHTML = `${data.pageSize} ‚Ä¢ ${data.loadTime} ‚Ä¢ ${scanDate} ${cacheInfo}`;
      document.getElementById('pscoreContainer').classList.remove('hidden');
      
      const resultsContainer = document.getElementById('resultsContainer');
      resultsContainer.innerHTML = '';
      metrics.forEach(metric => {
        const value = data[metric.id] || '--';
        const card = document.createElement('div');
        card.className = `tooltip score-card bg-gradient-to-br ${metric.color} text-white p-5 rounded-xl shadow-lg transform transition hover:scale-105`;
        card.innerHTML = `<div class="text-xs font-bold uppercase opacity-90 mb-1">${metric.name}</div><div class="text-4xl font-bold mb-1">${value}</div><div class="text-xs opacity-80">${metric.desc}</div><span class="tooltiptext">${metric.tooltip}</span>`;
        resultsContainer.appendChild(card);
      });
      
      resultsContainer.classList.remove('hidden');
      document.getElementById('exportBtn').style.display = 'inline-block';
      saveToLeaderboard(data);
      toggleDetailsSection.classList.remove('hidden');
      document.getElementById('detailsBreakdown').innerHTML = `
        <div class="modern-card p-6">
          <h3 class="text-lg font-bold mb-2">Load Time: ${data.loadTime}</h3>
          <p>Page Size: ${data.pageSize}</p>
          <p>Analysis Time: ${data.analysisTime}ms</p>
          <!-- Full breakdown from data.breakdown -->
          <div class="grid grid-cols-2 gap-4 mt-4">
            <div><strong>Karpov:</strong> ${data.karpov}</div>
            <div><strong>Vortex:</strong> ${data.vortex}</div>
            <div><strong>Nova:</strong> ${data.nova}</div>
            <div><strong>Aether:</strong> ${data.aether}</div>
            <div><strong>Pulse:</strong> ${data.pulse}</div>
            <div><strong>Eden:</strong> ${data.eden}</div>
            <div><strong>Helix:</strong> ${data.helix}</div>
            <div><strong>Echo:</strong> ${data.echo}</div>
            <div><strong>Quantum:</strong> ${data.quantum}</div>
            <div><strong>Nexus:</strong> ${data.nexus}</div>
          </div>
        </div>
      `;
      playSound('beep');
    }
    
    document.getElementById('exportBtn').addEventListener('click', () => {
      if (!currentData) return;
      const exportObj = {
        url: currentData.url,
        timestamp: currentData.timestamp,
        scores: { pscore: currentData.pscore, karpov: currentData.karpov, vortex: currentData.vortex, nova: currentData.nova, aether: currentData.aether, pulse: currentData.pulse, eden: currentData.eden, helix: currentData.helix, echo: currentData.echo, quantum: currentData.quantum, nexus: currentData.nexus },
        metadata: { pageSize: currentData.pageSize, loadTime: currentData.loadTime }
      };
      const blob = new Blob([JSON.stringify(exportObj, null, 2)], { type: 'application/json' });
      const blobUrl = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = blobUrl;
      a.download = `pythia-${new Date().getTime()}.json`;
      a.click();
      URL.revokeObjectURL(blobUrl);
      playSound('click');
    });
    
    function saveToLeaderboard(data) {
      let leaderboard = JSON.parse(localStorage.getItem('pythiaLeaderboard') || '[]');
      leaderboard.push({ url: data.url, pscore: data.pscore, timestamp: data.timestamp });
      leaderboard.sort((a, b) => b.pscore - a.pscore);
      if (leaderboard.length > 100) leaderboard = leaderboard.slice(0, 100);
      localStorage.setItem('pythiaLeaderboard', JSON.stringify(leaderboard));
      updateLeaderboardDisplay();
    }
    
    function updateLeaderboardDisplay() {
      const leaderboard = JSON.parse(localStorage.getItem('pythiaLeaderboard') || '[]');
      if (leaderboard.length < 3) return;
      document.getElementById('leaderboard').classList.remove('hidden');
      const topSites = leaderboard.slice(0, 10);
      const bottomSites = leaderboard.slice(-10).reverse();
      
      document.getElementById('topSites').innerHTML = topSites.map((site, i) => `
        <div class="leaderboard-entry flex justify-between items-center p-2 rounded">
          <span class="text-sm font-bold text-gray-700">${i + 1}. ${new URL(site.url).hostname}</span>
          <span class="text-lg font-bold text-green-600">${site.pscore}</span>
        </div>
      `).join('');
      
      document.getElementById('bottomSites').innerHTML = bottomSites.map((site, i) => {
        const rank = leaderboard.length - 9 + i;
        return `<div class="leaderboard-entry flex justify-between items-center p-2 rounded">
          <span class="text-sm font-bold text-gray-700">${rank}. ${new URL(site.url).hostname}</span>
          <span class="text-lg font-bold text-red-600">${site.pscore}</span>
        </div>`;
      }).join('');
    }
    
    function renderRivalries() {
      const rivalryList = document.getElementById('rivalryList');
      rivalryList.innerHTML = RIVALRIES.map((rivalry, index) => {
        const displayName1 = rivalry.category === 'Socials' && rivalry.name1 === 'X' ? 'X (twitter.com)' : rivalry.name1;
        return `<div class="rivalry-item flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 transition">
          <div class="flex-1">
            <div class="text-xs font-bold text-gray-500 mb-1">${rivalry.category}</div>
            <div class="font-bold text-gray-800">${displayName1} v ${rivalry.name2}</div>
          </div>
          <button onclick="startBattle('${rivalry.url1}', '${rivalry.url2}', '${rivalry.name1}', '${rivalry.name2}', '${rivalry.logo1 || ''}', '${rivalry.logo2 || ''}')" 
            class="retro-button px-4 py-2 bg-red-500 text-white font-bold rounded-lg hover:bg-red-600 transition text-sm">‚öîÔ∏è</button>
        </div>`;
      }).join('');
    }
    
    document.getElementById('customBattleBtn').addEventListener('click', () => {
      const url1 = normalizeUrl(document.getElementById('customUrl1').value.trim());
      const url2 = normalizeUrl(document.getElementById('customUrl2').value.trim());
      if (!url1 || !url2) {
        alert('Please enter two valid URLs');
        return;
      }
      const name1 = new URL(url1).hostname;
      const name2 = new URL(url2).hostname;
      startBattle(url1, url2, name1, name2);
    });
    
    async function startBattle(url1, url2, name1, name2, logo1 = '', logo2 = '') {
      playSound('beep');
      document.getElementById('battleResults').classList.add('hidden');
      const btn = event.target;
      btn.innerHTML = '<span class="sword-fighting">‚öîÔ∏è</span>';
      btn.disabled = true;
      
      try {
        let result1 = getCachedScan(url1);
        let result2 = getCachedScan(url2);
        const promises = [];
        
        if (!result1) {
          promises.push(fetch('/api/scan', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ url: url1 }) })
            .then(r => r.json()).then(data => { setCachedScan(url1, data); result1 = data; }));
        }
        if (!result2) {
          promises.push(fetch('/api/scan', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ url: url2 }) })
            .then(r => r.json()).then(data => { setCachedScan(url2, data); result2 = data; }));
        }
        
        await Promise.all(promises);
        
        const winner = result1.pscore > result2.pscore ? name1 : result2.pscore > result1.pscore ? name2 : 'TIE';
        const winnerLogo = result1.pscore > result2.pscore ? logo1 : result2.pscore > result1.pscore ? logo2 : '';
        const battleDate = new Date().toLocaleString('en-US', { month: 'short', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit' });
        
        currentBattleData = { name1, name2, result1, result2, winner, battleDate };
        
        const winnerIcon = document.getElementById('winnerIcon');
        if (winnerLogo && winner !== 'TIE') {
          winnerIcon.querySelector('img').src = winnerLogo;
          winnerIcon.querySelector('img').alt = `${winner} logo`;
          winnerIcon.classList.remove('hidden');
        } else {
          winnerIcon.classList.add('hidden');
        }
        
        const winnerAnnouncement = document.getElementById('winnerAnnouncement');
        if (winner === 'TIE') {
          winnerAnnouncement.innerHTML = `ü§ù IT'S A TIE!<br><span class="text-2xl">P-Score‚Ñ¢: ${result1.pscore} - ${result2.pscore}</span><br><span class="text-xs opacity-75 mt-2 block">${battleDate}</span>`;
        } else {
          const winScore = winner === name1 ? result1.pscore : result2.pscore;
          const loseScore = winner === name1 ? result2.pscore : result1.pscore;
          winnerAnnouncement.innerHTML = `üèÜ ${winner.toUpperCase()} IS THE WINNER!<br><span class="text-2xl">P-Score‚Ñ¢: ${winScore} - ${loseScore}</span><br><span class="text-xs opacity-75 mt-2 block">${battleDate}</span>`;
        }
        
        document.getElementById('contestant1Results').innerHTML = `<div class="text-center"><div class="text-xl font-bold mb-2">${name1}</div><div class="text-3xl font-bold text-indigo-600">${result1.pscore}</div><div class="text-sm font-bold mt-2">P-Score‚Ñ¢</div><div class="text-xs text-gray-500 mt-2">Speed: ${result1.karpov} ‚Ä¢ Access: ${result1.vortex}<br>Scale: ${result1.nova} ‚Ä¢ Tech: ${result1.aether}</div></div>`;
        document.getElementById('contestant2Results').innerHTML = `<div class="text-center"><div class="text-xl font-bold mb-2">${name2}</div><div class="text-3xl font-bold text-purple-600">${result2.pscore}</div><div class="text-sm font-bold mt-2">P-Score‚Ñ¢</div><div class="text-xs text-gray-500 mt-2">Speed: ${result2.karpov} ‚Ä¢ Access: ${result2.vortex}<br>Scale: ${result2.nova} ‚Ä¢ Tech: ${result2.aether}</div></div>`;
        
        document.getElementById('battleResults').classList.remove('hidden');
        setTimeout(() => { window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' }); }, 100);
      } catch (error) {
        alert(`Battle failed: ${error.message}`);
      } finally {
        btn.innerHTML = '‚öîÔ∏è';
        btn.disabled = false;
      }
    }
    
    document.getElementById('shareRivalryBtn').addEventListener('click', () => {
      playSound('click');
      if (currentBattleData) {
        const { name1, name2, result1, result2, winner, battleDate } = currentBattleData;
        const text = `‚öîÔ∏è PYTHIA‚Ñ¢ BATTLE (${battleDate}): ${name1} (${result1.pscore}) v ${name2} (${result2.pscore}) - ${winner.toUpperCase()} WINS! üèÜ Scanned by Pythia‚Ñ¢ üîÆ`;
        shareContent(text, window.location.href);
      }
    });
    
    async function loadTop50Results() {
      try {
        const response = await fetch(TOP50_API);
        const data = await response.json();
        if (data.error) throw new Error(data.message);
        
        const sorted = data.results.sort((a, b) => b.pscore - a.pscore);
        const top5 = sorted.slice(0, 5);
        const bottom5 = sorted.slice(-5).reverse();
        const scanDate = new Date(data.timestamp).toLocaleString('en-US', { month: 'short', day: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit', timeZone: 'America/Los_Angeles' });
        
        document.getElementById('top50TopList').innerHTML = `<div class="text-xs text-gray-500 mb-3 italic">Last scan: ${scanDate} PT</div>${top5.map((site, i) => {
          const avgDisplay = site.fiveDayAvg ? ` (5d avg: ${site.fiveDayAvg})` : '';
          return `<div class="leaderboard-entry flex justify-between items-center p-3 rounded bg-green-50"><span class="text-sm font-bold text-gray-700">${i + 1}. ${new URL(site.url).hostname}</span><span class="text-lg font-bold text-green-600">P-Score‚Ñ¢: ${site.pscore}${avgDisplay}</span></div>`;
        }).join('')}`;
        
        document.getElementById('top50BottomList').innerHTML = `<div class="text-xs text-gray-500 mb-3 italic">Last scan: ${scanDate} PT</div>${bottom5.map((site, i) => {
          const rank = sorted.length - (4 - i);
          const avgDisplay = site.fiveDayAvg ? ` (5d avg: ${site.fiveDayAvg})` : '';
          return `<div class="leaderboard-entry flex justify-between items-center p-3 rounded bg-red-50"><span class="text-sm font-bold text-gray-700">${rank}. ${new URL(site.url).hostname}</span><span class="text-lg font-bold text-red-600">P-Score‚Ñ¢: ${site.pscore}${avgDisplay}</span></div>`;
        }).join('')}`;
        
        document.getElementById('top50Loading').classList.add('hidden');
        document.getElementById('top50Results').classList.remove('hidden');
      } catch (error) {
        document.getElementById('top50Loading').innerHTML = `<div class="text-red-600 font-bold">Failed to load rankings</div><div class="text-sm text-gray-500 mt-2">${error.message}</div>`;
      }
    }
    
    async function loadEnterpriseDaily() {
      try {
        const response = await fetch(ENTERPRISE_API);
        const data = await response.json();
        if (data.error) throw new Error(data.message);
        
        const winner = data.winner;
        document.getElementById('enterpriseWinner').textContent = new URL(winner.url).hostname;
        document.getElementById('enterprisePscore').textContent = winner.pscore;
        document.getElementById('enterpriseLoadTime').textContent = winner.loadTime;
        document.getElementById('enterpriseTotalScanned').textContent = `From ${data.totalScanned} sites scanned on ${data.scanDate}`;
        document.getElementById('enterpriseLink').href = winner.url;
        
        document.getElementById('enterpriseDailyLoading').classList.add('hidden');
        document.getElementById('enterpriseDailyResults').classList.remove('hidden');
      } catch (error) {
        document.getElementById('enterpriseDailyLoading').innerHTML = `<div class="text-gray-600 font-bold">No scan available yet</div><div class="text-sm text-gray-500 mt-2">${error.message}</div>`;
      }
    }
    
    function shareOn(platform) {
      playSound('click');
      const text = 'Check out Pythia‚Ñ¢ - The ultimate website performance oracle! ONE SCORE TO RANK THEM ALL üîÆ';
      const url = window.location.href;
      shareContent(text, url, platform);
    }
    
    function shareContent(text, url, platform = null) {
      const encodedText = encodeURIComponent(text);
      const encodedUrl = encodeURIComponent(url);
      if (!platform) {
        if (navigator.share) navigator.share({ title: 'Pythia‚Ñ¢', text, url });
        return;
      }
      let shareUrl;
      switch(platform) {
        case 'twitter': shareUrl = `https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`; break;
        case 'facebook': shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`; break;
        case 'whatsapp': shareUrl = `https://wa.me/?text=${encodedText}%20${encodedUrl}`; break;
        case 'email': shareUrl = `mailto:?subject=${encodeURIComponent('Pythia‚Ñ¢ - Website Performance Oracle')}&body=${encodedText}%20${encodedUrl}`; break;
      }
      if (shareUrl) window.open(shareUrl, '_blank', 'width=600,height=400');
    }
    
    updateLeaderboardDisplay();
    renderRivalries();
    loadTop50Results();
    loadEnterpriseDaily();
    showBootSequence();
    updateVisitCounter();
  </script>
</body>
</html>
